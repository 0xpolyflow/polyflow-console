<div class="w-full h-full text-xs">


    <div class="max-w-7xl w-full bg-white rounded-lg p-6">
        <div class="flex px-4 mb-2 items-center flex-row gap-x-2 text-indigo-700 uppercase font-semibold">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" class="w-4 h-4">
                <path fill-rule="evenodd" d="M8.25 6.75a3.75 3.75 0 117.5 0 3.75 3.75 0 01-7.5 0zM15.75 9.75a3 3 0 116 0 3 3 0 01-6 0zM2.25 9.75a3 3 0 116 0 3 3 0 01-6 0zM6.31 15.117A6.745 6.745 0 0112 12a6.745 6.745 0 016.709 7.498.75.75 0 01-.372.568A12.696 12.696 0 0112 21.75c-2.305 0-4.47-.612-6.337-1.684a.75.75 0 01-.372-.568 6.787 6.787 0 011.019-4.38z" clip-rule="evenodd" />
                <path d="M5.082 14.254a8.287 8.287 0 00-1.308 5.135 9.687 9.687 0 01-1.764-.44l-.115-.04a.563.563 0 01-.373-.487l-.01-.121a3.75 3.75 0 013.57-4.047zM20.226 19.389a8.287 8.287 0 00-1.308-5.135 3.75 3.75 0 013.57 4.047l-.01.121a.563.563 0 01-.373.486l-.115.04c-.567.2-1.156.349-1.764.441z" />
              </svg>
              
            <div>User Sessions</div>
        </div>
        <div class="w-full flex flex-row justify-between items-center
         border-b border-slate-100 p-4 uppercase font-medium">
            <div class="flex flex-row gap-x-8 text-slate-500">
                <div class="flex flex-row gap-x-2">
                    <input [formControl]="hidePassive" type="checkbox">
                    Hide passive sessions
                </div>
                <div class="flex flex-row gap-x-2">
                    <input [formControl]="onlyErrors" type="checkbox">
                    Show only sessions with errors
                </div>
            </div>
            <div class="w-[26rem] flex flex-row items-center border border-slate-100 pl-4 rounded-lg">
                <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="w-6 h-6">
                    <path stroke-linecap="round" stroke-linejoin="round" d="M21 21l-5.197-5.197m0 0A7.5 7.5 0 105.196 5.196a7.5 7.5 0 0010.607 10.607z" />
                  </svg>                  
                <input [formControl]="walletSearch" class="w-full  outline-none rounded-lg py-4 pr-8 pl-2" 
                    placeholder="Search by wallet" type="text">
            </div>
        </div>
        <div *ngIf="sessions$ | async as sessions" class="flex flex-col w-full overflow-hidden">
            <div class="flex flex-row text-[10px] py-4 font-semibold uppercase px-6">
                <div class="w-1/12">
                    Session started
                </div>
                <div class="w-1/12 pl-4">
                    OS
                </div>
                <div class="w-1/12 text-center">
                    Country
                </div>
                <div class="w-1/12 text-center">
                    Provider
                </div>
                <div class="w-1/12 text-center">
                    Browser
                </div>
                <div class="w-1/12 text-center">
                    Wallet Connected
                </div>
                <div class="w-1/12 text-center">
                    Signed Transaction
                </div>
                <div class="w-1/12 text-center">
                    Had errors
                </div>
                <div class="w-3/12 flex flex-row pl-8">
                    Wallets Used During Session
                </div>
            </div>
            <div class="flex flex-row items-center w-full
            hover:bg-slate-50 cursor-pointer px-6
             py-3 border-t border-slate-100" *ngFor="let session of sessions"
              [routerLink]="session.sessionId" [state]="session">
                <div class="w-1/12 flex flex-col gap-x-2">
                    <div class="text-xs text-indigo-400">{{session.firstEventDateTime.toLocaleTimeString()}}</div>
                    <div class="text-sm font-semibold text-indigo-800">{{session.firstEventDateTime.toLocaleDateString()}}</div>    
                </div>
                <div class="w-1/12 pl-4">{{session.devices.at(0)?.os}}</div>
                <div class="w-1/12 flex flex-row justify-center">
                    <img class="h-4 rounded-sm" src="../../assets/flags/{{getFlag(session.devices.at(0)?.country)}}.svg" alt="" srcset="">
                </div>
                <div class="w-1/12 flex flex-row justify-center">
                    <img class="h-4" [src]="getWalletIcon(session.devices.at(0)?.walletProvider)" alt="" srcset="">
                </div>
                <div class="w-1/12 flex flex-row justify-center">
                    <img class="h-4 rounded-sm" [src]="getBrowserIcon(session.devices.at(0)?.browser)" alt="" srcset="">
                </div>
                
                <div class="w-1/12 flex flex-row justify-center">
                    <svg *ngIf="session.hasConnectedWallet" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" class="w-5 h-5 text-indigo-600">
                        <path fill-rule="evenodd" d="M2.25 12c0-5.385 4.365-9.75 9.75-9.75s9.75 4.365 9.75 9.75-4.365 9.75-9.75 9.75S2.25 17.385 2.25 12zm13.36-1.814a.75.75 0 10-1.22-.872l-3.236 4.53L9.53 12.22a.75.75 0 00-1.06 1.06l2.25 2.25a.75.75 0 001.14-.094l3.75-5.25z" clip-rule="evenodd" />
                    </svg>
                    <svg *ngIf="!session.hasConnectedWallet" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" class="w-5 h-5 text-red-500">
                        <path fill-rule="evenodd" d="M12 2.25c-5.385 0-9.75 4.365-9.75 9.75s4.365 9.75 9.75 9.75 9.75-4.365 9.75-9.75S17.385 2.25 12 2.25zm-1.72 6.97a.75.75 0 10-1.06 1.06L10.94 12l-1.72 1.72a.75.75 0 101.06 1.06L12 13.06l1.72 1.72a.75.75 0 101.06-1.06L13.06 12l1.72-1.72a.75.75 0 10-1.06-1.06L12 10.94l-1.72-1.72z" clip-rule="evenodd" />
                    </svg>
                      
                </div>
                <div class="w-1/12 text-center flex flex-row justify-center">
                    <svg *ngIf="session.hasExecutedTransaction" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" class="w-5 h-5 text-indigo-600">
                        <path fill-rule="evenodd" d="M2.25 12c0-5.385 4.365-9.75 9.75-9.75s9.75 4.365 9.75 9.75-4.365 9.75-9.75 9.75S2.25 17.385 2.25 12zm13.36-1.814a.75.75 0 10-1.22-.872l-3.236 4.53L9.53 12.22a.75.75 0 00-1.06 1.06l2.25 2.25a.75.75 0 001.14-.094l3.75-5.25z" clip-rule="evenodd" />
                    </svg>
                    <svg *ngIf="!session.hasExecutedTransaction" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" class="w-5 h-5 text-red-500">
                        <path fill-rule="evenodd" d="M12 2.25c-5.385 0-9.75 4.365-9.75 9.75s4.365 9.75 9.75 9.75 9.75-4.365 9.75-9.75S17.385 2.25 12 2.25zm-1.72 6.97a.75.75 0 10-1.06 1.06L10.94 12l-1.72 1.72a.75.75 0 101.06 1.06L12 13.06l1.72 1.72a.75.75 0 101.06-1.06L13.06 12l1.72-1.72a.75.75 0 10-1.06-1.06L12 10.94l-1.72-1.72z" clip-rule="evenodd" />
                    </svg>
                </div>
                
                <div class="w-1/12 flex flex-row justify-center">
                    <svg *ngIf="session.totalErrorEventCount !== 0" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" class="w-5 h-5 text-red-600">
                        <path fill-rule="evenodd" d="M2.25 12c0-5.385 4.365-9.75 9.75-9.75s9.75 4.365 9.75 9.75-4.365 9.75-9.75 9.75S2.25 17.385 2.25 12zm13.36-1.814a.75.75 0 10-1.22-.872l-3.236 4.53L9.53 12.22a.75.75 0 00-1.06 1.06l2.25 2.25a.75.75 0 001.14-.094l3.75-5.25z" clip-rule="evenodd" />
                    </svg>
                    <svg *ngIf="session.totalErrorEventCount === 0" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" class="w-5 h-5 text-green-500">
                        <path fill-rule="evenodd" d="M12 2.25c-5.385 0-9.75 4.365-9.75 9.75s4.365 9.75 9.75 9.75 9.75-4.365 9.75-9.75S17.385 2.25 12 2.25zm-1.72 6.97a.75.75 0 10-1.06 1.06L10.94 12l-1.72 1.72a.75.75 0 101.06 1.06L12 13.06l1.72 1.72a.75.75 0 101.06-1.06L13.06 12l1.72-1.72a.75.75 0 10-1.06-1.06L12 10.94l-1.72-1.72z" clip-rule="evenodd" />
                    </svg>
                </div>
                
                <div class="w-4/12 flex flex-row gap-x-2 text-[10px] font-medium pl-8">
                    <div class="py-1 px-4 rounded-md bg-indigo-50" *ngFor="let wallet of session.walletAddresses">
                        {{wallet | shorten}}
                    </div>
                    <div class="py-1 px-4 rounded-md bg-red-50 text-orange-600" *ngIf="session.walletAddresses.length === 0">
                        No Wallets
                    </div>
                </div>
            </div>
        </div>
    </div>

    
</div>
